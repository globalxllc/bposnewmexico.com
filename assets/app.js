(function(){const o=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add("visible")})},{threshold:.25});document.querySelectorAll(".fade").forEach(e=>o.observe(e))})();(function(){const o=document.getElementById("video1"),e=document.getElementById("unmute-hero");function t(n){const a=n.play();a!==void 0&&a.catch(()=>{})}o.addEventListener("canplay",()=>{});e.addEventListener("click",()=>{o.muted=!1;try{o.currentTime=0}catch(n){}t(o);e.style.opacity="0",e.style.pointerEvents="none",setTimeout(()=>e.style.display="none",200)})})();(function(){const o=[document.getElementById("video2"),document.getElementById("video3")],e=new IntersectionObserver(t=>{t.forEach(n=>{const a=n.target;n.isIntersecting?(a.muted=!1,a.play().catch(()=>{})):a.pause()})},{threshold:.6});o.forEach(t=>t&&e.observe(t))})();(function(){const o=document.getElementById("intake-form"),e=document.getElementById("form-status");o.addEventListener("submit",async t=>{t.preventDefault(),e.textContent="Sending...";const n=Object.fromEntries(new FormData(o).entries()),a="/api/send-email";try{const s=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok)throw new Error("Request failed");e.textContent="Request submitted. We will email you shortly.",o.reset()}catch(s){e.style.color="#ffb4b4",e.textContent="Could not reach email service. Please verify the /api/send-email endpoint after deployment."}})})();